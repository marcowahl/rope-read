<!DOCTYPE html>

<!-- Copyright (C) 2018 Marco Wahl github.com/marcowahl -->

<!-- This program is free software: you can redistribute it and/or modify -->
<!-- it under the terms of the GNU General Public License as published by -->
<!-- the Free Software Foundation, either version 3 of the License, or -->
<!-- (at your option) any later version. -->

<!-- This program is distributed in the hope that it will be useful, -->
<!-- but WITHOUT ANY WARRANTY; without even the implied warranty of -->
<!-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the -->
<!-- GNU General Public License for more details. -->

<!-- You should have received a copy of the GNU General Public License -->
<!-- along with this program.  If not, see <http://www.gnu.org/licenses/>. -->

<html lang="en">
  <head>
    <title>rope read</title>
  </head>
  <body>
    <div id="rope-read-input">
      <div id="menu">
        Paste or drop text into the (possibly yellow) area below.
        Rope read transforms and displays the text for you to <b>rope
        read</b>.  Reload the page for a new start. (<a
        href="https://github.com/marcowahl/rope-read">Source code</a>)
      </div>
      <div id="input-area">
        <textarea id="input" type="text"></textarea>
      </div>
    </div>
    <div id="output" class="rope-read-section" data-lining></div>
  </body>
  <style type="text/css">

    .rope-read-section .line:nth-of-type(2n) {
    -moz-transform:rotate(180deg);
    }

    body {
    margin:0;
    padding:0;
    }

    body, html {
    height:100%;
    }

    #rope-read-input, #input {
    width: 100%;
    height: 100%;
    }

    #input-area {
    width: 100%;
    height: 100%;
    }

    #input {
    background-color: yellow;
    }

    #menu {
    width: 100%;
    padding: 1em;
    background-color: beige;
    }

  </style>
  <script src="lining.min.js"></script>
  <script>
    (function () {

    document.getElementById("input").value = "" // clean start.

    var slurpText = () => {
    document.getElementById("rope-read-input").style.display = "none"

    var output_element = document.getElementById("output")
    output_element.textContent = document.getElementById("input").value
    lining(output_element)
    }

    document.getElementById("input").oninput = slurpText
    }
    )()
  </script>
</html>
